(function(e){function t(t){for(var n,i,c=t[0],o=t[1],l=t[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"042c":function(e,t,a){},"0935":function(e,t,a){e.exports=a.p+"img/hogwarts-logo-png-1.2703327e.png"},"0b01":function(e,t,a){"use strict";var n=a("73f4"),r=a.n(n);r.a},"0ecf":function(e,t,a){"use strict";var n=a("7a43"),r=a.n(n);r.a},"0f85":function(e,t,a){"use strict";var n=a("6bf3"),r=a.n(n);r.a},"1c97":function(e,t,a){},"278f":function(e,t,a){"use strict";var n=a("7c48"),r=a.n(n);r.a},3349:function(e,t,a){"use strict";var n=a("042c"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"change-screen",mode:"out-in"}},[a(e.currentComponent,{tag:"component"})],1)],1)},s=[],i=a("5530"),c=a("2f62"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"start-screen"},[n("img",{staticClass:"logo",attrs:{src:a("0935")}}),n("p",[e._v("Монополия Гарри Поттер ")]),n("p",[e._v("Новая игра")]),n("div",{on:{click:function(t){return e.startGame(2)}}},[e._v("(2 игрока)")]),n("div",{on:{click:function(t){return e.startGame(3)}}},[e._v("(3 игрока)")]),n("div",{on:{click:function(t){return e.startGame(4)}}},[e._v("(4 игрока)")]),e.winner?n("p",[e._v("В прошлой игре победил: "+e._s(e.winner.name))]):e._e()])},l=[],d={name:"StartScreen",methods:Object(i["a"])({},Object(c["d"])(["startGame"])),computed:Object(i["a"])({},Object(c["e"])(["winner"]))},u=d,h=(a("ef12"),a("2877")),p=Object(h["a"])(u,o,l,!1,null,"08bb066a",null),f=p.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"game-board"},[a("board"),a("new-card",{attrs:{card:e.currentCard,action:!0}}),a("actions"),a("player-info"),a("pennant")],1)},m=[],b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"board"},[a("div",{staticClass:"dots"},e._l(e.game.board,(function(t){return a("span",{key:t.index,staticClass:"board-item",class:e.cardClass(t)})})),0)])},v=[],g=a("ade3"),_={name:"Board",data:function(){return{}},computed:Object(i["a"])({},Object(c["e"])(["game"]),{},Object(c["c"])(["currentPlayer"])),methods:{getOwnerCard:function(e){var t=this.game._findPlayer(e);return t?t.index:null},cardClass:function(e){return[e.cardType,Object(g["a"])({},"player"+this.getOwnerCard(e.owner),null!==this.getOwnerCard(e.owner)),{active:this.currentPlayer.position===e.index}]}}},C=_,w=(a("3349"),Object(h["a"])(C,b,v,!1,null,"d8a8c0fc",null)),T=w.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",[n("div",{directives:[{name:"touch",rawName:"v-touch:tap",value:e.doAction,expression:"doAction",arg:"tap"}],staticClass:"new-card",class:e.backgroundCardClass},[n("div",{staticClass:"card-body"},[n("span",{staticClass:"card-index",class:e.fontColorClass},[e._v(e._s(e.card.index)+" ")]),e.card.cardType===e.CardTypes.NORMAL?n("div",[n("div",{staticClass:"normal-card-owner"},[e._v(e._s(e.getCardOwner(e.card.owner))+" ")]),n("div",{staticClass:"normal-card-category"},[e._v(e._s(e.card.category)+" "+e._s(e.card.fullRent?"*":""))]),n("div",{staticClass:"normal-card-name"},[e._v(e._s(e.card.name))]),e.moreInfo?e._e():n("div",{staticClass:"normal-card-price"},[e._v("Цена: "+e._s(e.card.cost))]),n("div",{staticClass:"normal-card-rent"},[e._v("Рента: "+e._s(e.rent))]),e.moreInfo&&!e.card.disabled?n("div",{staticClass:"normal-card-rent"},[e._v("Стоимость залога: "+e._s(e.card.deposit))]):e._e(),e.moreInfo&&e.card.disabled?n("div",{staticClass:"normal-card-rent"},[e._v("Стоимость выкупа: "+e._s(e.card.buyout))]):e._e()]):e.card.cardType!==e.CardTypes.MAGIC&&e.card.cardType!==e.CardTypes.POTION||e.card.subType?e.card.subType||e.card.cardType===e.CardTypes.START||e.card.cardType===e.CardTypes.FREE||e.card.cardType===e.CardTypes.TOJAIL?n("div",[n("div",{staticClass:"special-card-name"},[e._v(e._s(e.card.name))]),n("div",{staticClass:"special-card-disc"},[e._v(e._s(e.card.disc))])]):e.card.cardType===e.CardTypes.TAX?n("div",[n("div",{staticClass:"normal-card-name"},[e._v(e._s(e.card.name))]),n("div",{staticClass:"normal-card-price"},[e._v("Сумма: "+e._s(e.card.rent[0]))])]):e.card.cardType===e.CardTypes.TRANSPORT||e.card.cardType===e.CardTypes.FACTORY?n("div",[n("div",{staticClass:"normal-card-owner"},[e._v(e._s(e.getCardOwner(e.card.owner))+" ")]),n("div",{staticClass:"normal-card-name"},[e._v(e._s(e.card.name))]),n("div",{staticClass:"normal-card-disc"},[e._v(e._s(e.card.disc))]),e.moreInfo?e._e():n("div",{staticClass:"normal-card-price"},[e._v("Цена: "+e._s(e.card.cost))]),e.moreInfo&&!e.card.disabled?n("div",{staticClass:"normal-card-rent"},[e._v("Стоимость залога: "+e._s(e.card.deposit))]):e._e(),e.moreInfo&&e.card.disabled?n("div",{staticClass:"normal-card-rent"},[e._v("Стоимость выкупа: "+e._s(e.card.buyout))]):e._e()]):e.card.cardType===e.CardTypes.JAIL?n("div",[n("div",{staticClass:"special-card-name"},[e._v(e._s(e.card.name))]),n("div",{staticClass:"special-card-disc"},[e._v("Узники Азкабана:")]),n("ul",e._l(e.jail,(function(t){return n("li",{key:t.id},[e._v(e._s(t.name))])})),0)]):e._e():n("div",[n("div",{staticClass:"magic-card-name"},[e._v(e._s(e.card.name))])]),e.card.disabled?n("img",{staticClass:"sold",attrs:{src:a("bacc")}}):e._e()]),n("div",{staticClass:"preload"},e._l(e.preloadArray,(function(e){return n("img",{key:e,attrs:{src:e}})})),0)])])},x=[],P=a("262e"),A=a("2caf"),k=a("d4ec"),j={NORMAL:"normal",START:"start",JAIL:"jail",TOJAIL:"tojail",FREE:"free",TAX:"tax",MAGIC:"magic",POTION:"potion",TRANSPORT:"transport",FACTORY:"factory"},I={GO:"go",GIFT:"gift",TAX:"tax",JAILFREE:"free",TOJAIL:"tojail",HOUSETAX:"housetax",GOTO:"goto",PLAYERSGIFT:"playersgift",PLAYERSTAX:"playerstax"},E=function e(t,a,n,r){Object(k["a"])(this,e),this.index=t||0,this.name=a||"",this.disc=n||"",this.cardType=r||j.NORMAL},G=function(e){Object(P["a"])(a,e);var t=Object(A["a"])(a);function a(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(k["a"])(this,a),e=t.call(this,n.index,n.name,n.disc,n.cardType),e.category=n.category||null,e.catIndex=n.catIndex||null,e.cost=n.cost||0,e.rent=n.rent||[0,0,0,0,0,0],e.fullRent=!1,e.houses=0,e.buildCost=n.buildCost||0,e.deposit=n.deposit||0,e.buyout=e.deposit+.01*e.deposit*10,e.canBuy=n.canBuy||!1,e.owner=n.owner||null,e.disabled=!1,e.color=null,e}return a}(E),S=function(e){Object(P["a"])(a,e);var t=Object(A["a"])(a);function a(e,n){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=s.subType,c=s.cost,o=s.destanation,l=s.importantPay;return Object(k["a"])(this,a),r=t.call(this,null,e,n,j.MAGIC),r.subType=i||I.GIFT,r.cost=c||0,r.destanation=o||0,r.importantPay=l||!1,r}return a}(E),B=function(e){Object(P["a"])(a,e);var t=Object(A["a"])(a);function a(e,n){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=s.subType,c=s.cost,o=s.destanation,l=s.importantPay;return Object(k["a"])(this,a),r=t.call(this,null,e,n,j.POTION),r.subType=i||I.GIFT,r.cost=c||0,r.destanation=o||0,r.importantPay=l||!1,r}return a}(E),R={name:"Card",props:{card:{type:Object,required:!0},action:Boolean,moreInfo:Boolean},data:function(){return{CardTypes:j,preloadArray:["../assets/img/card1.png","../assets/img/card2.png","../assets/img/card3.png","../assets/img/card4.png","../assets/img/card5.png","../assets/img/card6.png","../assets/img/card7.png","../assets/img/card8.png","../assets/img/card9.png","../assets/img/cardmagic.png"]}},methods:{getCardOwner:function(e){var t=this.game._findPlayer(e)||null;return t?t.name:"Владельца нет"},doAction:function(){this.action&&(this.statusAction?this.game.doNext():this.statusGo?this.game.go():this.game.endTurn())}},computed:Object(i["a"])({},Object(c["e"])({game:"game",statusAction:function(e){return e.game._action},statusGo:function(e){return e.game._endOfTurn},jail:function(e){return e.game.jail}}),{fontColorClass:function(){var e=this.card.catIndex;if(6===e)return["text-color-black"]},backgroundCardClass:function(){var e=this.card,t=e.catIndex,a=e.cardType;return t>0&&t<10?["bg-"+t]:a===j.MAGIC||a===j.POTION?["bg-magic"]:["bg-9"]},rent:function(){return 0===this.card.houses&&this.card.fullRent?2*this.card.rent[0]:this.card.rent[this.card.houses]}})},F=R,N=(a("8ed3"),Object(h["a"])(F,O,x,!1,null,"aa815a26",null)),L=N.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"hr"}),a("div",{staticClass:"actions-board"},[a("a",{staticClass:"main-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.mainButtonClickHandler(t)}}},[e._v(e._s(e.buttonName))]),e.cancelBuy?a("a",{staticClass:"main-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.dontBuy(t)}}},[e._v("Не покупать")]):e._e(),e.checkJail?a("a",{staticClass:"main-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.payFine(t)}}},[e._v("Штраф 50М")]):e._e(),e.statusGo?e._e():a("a",{staticClass:"main-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openSwap(t)}}},[e._v("Обмен")]),a("a",{staticClass:"main-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.checkWinner(t)}}},[e._v("X")])])])},J=[],H={name:"Actions",computed:Object(i["a"])({},Object(c["c"])(["currentCard","currentPlayer","checkJail"]),{},Object(c["e"])({statusGo:function(e){return e.game._endOfTurn},statusAction:function(e){return e.game._action},winner:function(e){return e.game.winner}}),{cancelBuy:function(){return this.currentCard.canBuy&&!this.currentCard.owner&&this.statusAction},buttonName:function(){return this.statusGo?"Бросить кубики":this.statusAction?this.cancelBuy?"Купить":this.currentCard.owner?"Заплатить":"Выполнить действие":this.statusAction||this.statusGo?void 0:"Закончить ход"}}),methods:Object(i["a"])({},Object(c["b"])(["startTurn","doAction","endTurn","dontBuy","gameOver","payFine"]),{},Object(c["d"])(["win","openSwap"]),{checkWinner:function(){this.gameOver(this.currentPlayer.id),this.winner&&this.win(this.winner)},mainButtonClickHandler:function(){this.statusAction?this.doAction():this.statusGo?this.startTurn():this.endTurn()}})},D=H,X=(a("fce2"),Object(h["a"])(D,M,J,!1,null,"f370c4a4",null)),W=X.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.fn,expression:"fn"}],staticClass:"pennant",class:e.penantClass,on:{click:e.penantOpen}},[a("transition",{attrs:{name:"anim",mode:"out-in"},on:{enter:e.enter}},[e.isOpen?a("div",{staticClass:"penant-body"},[a("div",{staticClass:"player"},[e._v(e._s(e.player.name))]),a("div",{staticClass:"cubes"},[e._v("Выпало: "+e._s(e.cube1)+" и "+e._s(e.cube2))])]):a("div",{staticClass:"penant-body"},[a("div",{staticClass:"cube1",class:{grey:e.statusGo}},[e._v(e._s(e.cube1))]),a("div",{staticClass:"cube2",class:{grey:e.statusGo}},[e._v(e._s(e.cube2))])])])],1)},Y=[],K={name:"Pennant",data:function(){return{isOpen:!1}},computed:Object(i["a"])({},Object(c["e"])({statusGo:function(e){return e.game._endOfTurn},cube1:function(e){return e.game.cubes.cube1},cube2:function(e){return e.game.cubes.cube2},player:function(e){return e.game.cubes.player}}),{penantClass:function(){return{open:this.isOpen,closed:!this.isOpen}}}),methods:{enter:function(){console.log("fdafdaf")},fn:function(){this.isOpen=!1},penantOpen:function(){this.isOpen=!this.isOpen}}},z=K,U=(a("961a"),Object(h["a"])(z,Q,Y,!1,null,"7cc8179c",null)),V=U.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"player-info"},[a("div",{staticClass:"hr"}),a("player-cards"),a("ul",{staticClass:"player-list"},e._l(e.game.players,(function(t){return a("li",{key:t.id,class:e.activeElementStyle(t)},[e._v(e._s(t.name)+" / Деньги: "+e._s(t.cash)+"М")])})),0)],1)},Z=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.outsideClickHandler,expression:"outsideClickHandler"}],staticClass:"player-cards",class:e.openClass,on:{click:e.switchOpen}},[a("div",{staticClass:"header"},[e._v("Карты")]),a("cards-list",{staticClass:"list",attrs:{cards:e.playerCards,actionEnable:!0},on:{click:function(t){return e.selectCard(t)}}})],1)},ee=[],te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.drag?a("draggable",{staticClass:"cards-board",class:{"border-line":e.border},attrs:{list:e.cards,group:e.group}},e._l(e.cards,(function(t){return a("div",{key:t.index,class:["small-card","color"+t.catIndex,{disabled:t.disabled,active:e.actionEnable}],on:{click:function(a){return e.$emit("click",t)}}},[e._v(e._s(t.fullRent?"*":"")+" "+e._s(t.name.slice(0,e.maxLen))+" "+e._s(t.name.length>e.maxLen?"... ":" ")+" "+e._s(t.deposit)+" "+e._s(t.houses>0&&t.houses<5?"Д"+t.houses:"")+" "+e._s(5===t.houses?"c От.":""))])})),0):a("div",{staticClass:"cards-board"},e._l(e.cards,(function(t){return a("div",{key:t.index,class:["small-card","color"+t.catIndex,{disabled:t.disabled,active:e.actionEnable}],on:{click:function(a){return e.$emit("click",t)}}},[e._v(e._s(t.fullRent?"*":"")+" "+e._s(t.name.slice(0,e.maxLen))+" "+e._s(t.name.length>e.maxLen?"... ":" ")+" "+e._s(t.deposit)+" "+e._s(t.houses>0&&t.houses<5?"Д"+t.houses:"")+" "+e._s(5===t.houses?"c От.":""))])})),0)},ae=[],ne=a("310e"),re=a.n(ne),se={name:"CardsList",props:["cards","actionEnable","group","border","drag"],components:{draggable:re.a},computed:{maxLen:function(){var e=0,t=this.cards.length;return t<7?e=45:t>6&&t<13?e=13:(t>12&&t<19||t>18)&&(e=5),e}}},ie=se,ce=(a("0f85"),Object(h["a"])(ie,te,ae,!1,null,"44401e2c",null)),oe=ce.exports,le={name:"PlayerCards",data:function(){return{isOpen:!1}},components:{"cards-list":oe},computed:Object(i["a"])({},Object(c["c"])(["playerCards","selectedCard"]),{openClass:function(){return{open:this.isOpen}}}),methods:Object(i["a"])({},Object(c["d"])(["selectCard"]),{switchOpen:function(){this.isOpen=!this.isOpen},outsideClickHandler:function(){this.isOpen=!1}})},de=le,ue=(a("cab8"),Object(h["a"])(de,$,ee,!1,null,"67846c1b",null)),he=ue.exports,pe={name:"PlayerInfo",components:{"player-cards":he},computed:Object(i["a"])({},Object(c["e"])(["game"]),{},Object(c["c"])(["currentPlayer"])),methods:{activeElementStyle:function(e){var t={"game-over":e.gameOver};e.id===this.currentPlayer.id&&Object.assign(t,Object(g["a"])({active:!0},"player"+e.index,"true"));for(var a=!1,n=0;n<this.game.jail.length;n++)if(this.game.jail[n].id===e.id){a=!0;break}return Object.assign(t,{"into-jail":a}),t}}},fe=pe,ye=(a("aca6"),Object(h["a"])(fe,q,Z,!1,null,"7e3a317e",null)),me=ye.exports,be={name:"GameBoard",components:{board:T,"new-card":L,actions:W,pennant:V,"player-info":me},computed:Object(i["a"])({},Object(c["c"])(["currentCard"]))},ve=be,ge=(a("0b01"),Object(h["a"])(ve,y,m,!1,null,"bb2a811a",null)),_e=ge.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"game-board"},[a("new-card",{attrs:{card:e.currentCard}}),a("div",{staticClass:"hr"}),a("div",{staticClass:"caption"},[e._v("АУКЦИОН")]),a("div",{staticClass:"hr"}),a("div",[e._v("Цена лота: "+e._s(e.game.auction.bet))]),a("div",[e._v("Делает ставку: "+e._s(e.game.auction.current.name)+" / "+e._s(e.game.auction.current.cash)+"М")]),a("div",{staticClass:"line"},[e._v("Ставка: "+e._s(e.bet))]),a("div",[a("a",{staticClass:"line",attrs:{href:"#"},on:{click:function(t){return e.inc(10)}}},[e._v("+10")]),a("a",{staticClass:"line",attrs:{href:"#"},on:{click:function(t){return e.inc(50)}}},[e._v("+50")]),a("a",{staticClass:"line",attrs:{href:"#"},on:{click:e.accept}},[e._v("V")]),a("a",{staticClass:"line",attrs:{href:"#"},on:{click:e.cancelAuc}},[e._v("X")])])],1)},we=[],Te={name:"AuctionBoard",data:function(){return{bet:0}},methods:Object(i["a"])({},Object(c["b"])(["acceptAuc","cancelAuc"]),{inc:function(e){this.bet+=e},accept:function(){this.acceptAuc(this.bet)}}),mounted:function(){this.bet=this.game.auction.bet},components:{"new-card":L},computed:Object(i["a"])({},Object(c["e"])(["game"]),{},Object(c["c"])(["currentCard"]))},Oe=Te,xe=(a("0ecf"),Object(h["a"])(Oe,Ce,we,!1,null,"931f05ce",null)),Pe=xe.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"card-options"},[a("div",{staticClass:"hr"}),a("new-card",{attrs:{card:e.selectedCard,"more-info":!0}}),a("div",{staticClass:"hr"}),a("div",[e._v(e._s(e.currentPlayer.name)+" / Деньги: "+e._s(e.currentPlayer.cash))]),a("div",{staticClass:"hr"}),e.selectedCard.disabled?a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return e.redeem(e.selectedCard.index)}}},[e._v("Выкупить Имущество")]):a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toLay(e.selectedCard.index)}}},[e._v("Заложить имущество")]),e.selectedCard.fullRent?a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return e.byeHouse(e.selectedCard)}}},[e._v("Построить дом / отель / "+e._s(e.selectedCard.buildCost)+"М")]):e._e(),e.selectedCard.houses>0?a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return e.saleHouse(e.selectedCard)}}},[e._v("Продать дом / "+e._s(e.selectedCard.buildCost/2)+"М")]):e._e(),a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.clearSelectedCard(t)}}},[e._v("Выход")])],1)},ke=[],je={name:"CardOptionsBoard",components:{"new-card":L},computed:Object(i["a"])({},Object(c["e"])(["selectedCard"]),{},Object(c["c"])(["currentPlayer"])),methods:Object(i["a"])({},Object(c["d"])(["clearSelectedCard"]),{},Object(c["b"])(["toLay","redeem","byeHouse","saleHouse"]))},Ie=je,Ee=(a("9dd3"),Object(h["a"])(Ie,Ae,ke,!1,null,"5a61268b",null)),Ge=Ee.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"swap-board"},[e.tradePlayer?a("div",[a("div",[e._v(e._s(e.tradePlayer.name)+" / "+e._s(e.tradePlayer.cash))]),a("div",[e._v("Деньги: "+e._s(e.tradePlayerCash)+" "),e.tradePlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("tradePlayer",10)}}},[e._v("+10")]),e.tradePlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("tradePlayer",50)}}},[e._v("+50")]),e.tradePlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("tradePlayer",-10)}}},[e._v("-10")]),e.tradePlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("tradePlayer",-50)}}},[e._v("-50")]),a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.accept("tradePlayer")}}},[e._v(e._s(e.tradePlayerAccept?"Отмена":"Принять")+" ")]),a("card-list",{directives:[{name:"show",rawName:"v-show",value:!e.tradePlayerAccept,expression:"!tradePlayerAccept"}],attrs:{cards:e.tradePlayerCards,actionEnab:!0,group:"tradePlayer",border:!0,drag:!0}}),a("card-list",{staticClass:"top2 bg",style:{height:"60px"},attrs:{cards:e.tradePlayerCardsSelected,actionEnab:!0,group:"tradePlayer",border:!0,drag:!0}})],1),a("div",[e._v("/ОБМЕН/ "),a("card-list",{staticClass:"bg",style:{height:"60px"},attrs:{cards:e.currentPlayerCardsSelected,actionEnab:!0,group:"currentPlayer",border:!0,drag:!0}}),a("card-list",{directives:[{name:"show",rawName:"v-show",value:!e.currentPlayerAccept,expression:"!currentPlayerAccept"}],staticClass:"top2",attrs:{cards:e.currentPlayerCards,actionEnab:!0,group:"currentPlayer",border:!0,drag:!0}})],1),a("div",[e._v("Деньги: "+e._s(e.currentPlayerCash)+" "),e.currentPlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("currentPlayer",10)}}},[e._v("+10")]),e.currentPlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("currentPlayer",50)}}},[e._v("+50")]),e.currentPlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("currentPlayer",-10)}}},[e._v("-10")]),e.currentPlayerAccept?e._e():a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.inc("currentPlayer",-50)}}},[e._v("-50 ")]),a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return e.accept("currentPlayer")}}},[e._v(e._s(e.currentPlayerAccept?"Отмена":"Принять"))])]),a("div",[e._v(e._s(e.currentPlayer.name)+" / "+e._s(e.currentPlayer.cash))])]):a("ul",[a("div",[e._v("Выберите игрока с кем будет проходить обмен:")]),e._l(e.players,(function(t){return a("li",{key:t.id},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.selectPlayer(t)}}},[e._v(e._s(t.name))])])}))],2),a("a",{staticClass:"link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.closeSwap(t)}}},[e._v("ВЫХОД ")])])},Be=[],Re=(a("4de4"),{name:"SwapBoard",components:{draggable:re.a,"card-list":oe},data:function(){return{tradePlayer:null,tradePlayerCards:[],tradePlayerCardsSelected:[],tradePlayerCash:0,tradePlayerAccept:!1,currentPlayerCards:[],currentPlayerCardsSelected:[],currentPlayerCash:0,currentPlayerAccept:!1}},computed:Object(i["a"])({},Object(c["e"])(["game"]),{},Object(c["c"])(["currentPlayer"]),{players:function(){var e=this;return this.game.players.filter((function(t){return t.id!==e.game.whoGo}))}}),methods:Object(i["a"])({},Object(c["d"])(["closeSwap"]),{},Object(c["b"])(["swapCard"]),{selectPlayer:function(e){var t=this;this.tradePlayer=e,this.tradePlayerCards=this.game.board.filter((function(t){return t.owner===e.id})),this.currentPlayerCards=this.game.board.filter((function(e){return e.owner===t.currentPlayer.id}))},inc:function(e,t){this[e+"Cash"]+t<0||(this[e+"Cash"]+=t)},accept:function(e){if(console.log(this.tradePlayerCardsSelected),console.log(this.currentPlayerCardsSelected),!(this[e+"Cash"]>this[e].cash)&&(this[e+"Accept"]=!this[e+"Accept"],this.tradePlayerAccept&&this.currentPlayerAccept)){var t={};t.saler={player:this.tradePlayer,cards:this.tradePlayerCardsSelected,cash:this.tradePlayerCash},t.customer={player:this.currentPlayer,cards:this.currentPlayerCardsSelected,cash:this.currentPlayerCash},this.swapCard(t),this.closeSwap()}}})}),Fe=Re,Ne=(a("278f"),Object(h["a"])(Fe,Se,Be,!1,null,"db20e408",null)),Le=Ne.exports,Me={components:{"start-screen":f,"game-board":_e,"auction-board":Pe,"card-options-board":Ge,"swap-board":Le},computed:Object(i["a"])({},Object(c["e"])(["selectedCard","swap","currentComponent"]))},Je=Me,He=(a("5c0b"),Object(h["a"])(Je,r,s,!1,null,null,null)),De=He.exports,Xe=(a("99af"),a("c740"),a("4160"),a("d81d"),a("159b"),a("fb6a"),["Гарри Поттер","Рон Уизли","Волан-де-Морт","Драко Малфой","Северус Снегг","Альбус Дамблдор","Рубеус Хагрид","Полумна Лавгуд","Добби","Невилл Долгопупс","Минерва Макгонагалл","Белатриса Лестрейндж","Римус Люпин","Геллерт Гриндевальд","Гермиона Грейнджер"]);function We(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}var Qe=function(e){return We(Xe),Xe.slice(e-1)},Ye=(a("13d5"),a("45fc"),a("3835")),Ke=a("bee2"),ze=[new G({index:0,name:"ВПЕРД",disc:"Пройдите поле вперед и получите 200",cardType:j.START}),new G({index:1,category:"Хогсмид",catIndex:1,name:'Трактир "Кабанья Голова"',canBuy:!0,cost:60,rent:[2,10,30,90,160,250],buildCost:50,deposit:30}),new G({index:2,name:"Заклинания",cardType:j.MAGIC}),new G({index:3,category:"Хогсмид",catIndex:1,name:'Паб "Три Метлы"',canBuy:!0,cost:60,rent:[4,20,60,180,320,450],buildCost:50,deposit:30}),new G({index:4,name:"Налог Министерства Магии",canBuy:!1,rent:[200],owner:"game",cardType:j.TAX}),new G({index:5,name:"Хогвардс Экспресс",disc:"Рента увеличивается от того, сколько транспорта в собственности [25, 50, 100, 200]",catIndex:100,canBuy:!0,cost:200,rent:[25,50,100,200],deposit:100,cardType:j.TRANSPORT}),new G({index:6,category:"Дом Гарри",catIndex:2,name:"Чулан под лестницей",canBuy:!0,cost:100,rent:[6,30,90,270,400,550],buildCost:50,deposit:50}),new G({index:7,name:"Зелья",cardType:j.POTION}),new G({index:8,category:"Дом Гарри",catIndex:2,name:"Дом Блэков",canBuy:!0,cost:100,rent:[6,30,90,270,400,550],buildCost:50,deposit:50}),new G({index:9,category:"Дом Гарри",catIndex:2,name:"Нора",canBuy:!0,cost:120,rent:[8,40,100,300,450,600],buildCost:50,deposit:60}),new G({index:10,name:"Азкабан",cardType:j.JAIL}),new G({index:11,category:"Косой переулок",catIndex:3,name:"Магазин Волшебные Вредилки",canBuy:!0,cost:140,rent:[10,50,150,450,625,750],buildCost:100,deposit:70}),new G({index:12,catIndex:200,name:"Журнал Придира",disc:"Если вам пренадлежит одно печатное издание рента равна сумме 4-х бросков кубика, если два издания, рента равна сумме 10 бросков кубика",canBuy:!0,cost:150,deposit:75,cardType:j.FACTORY}),new G({index:13,category:"Косой переулок",catIndex:3,name:"Магазин все для Квиддича",canBuy:!0,cost:140,rent:[10,50,150,450,625,750],buildCost:100,deposit:70}),new G({index:14,category:"Косой переулок",catIndex:3,name:"Магазин Совы",canBuy:!0,cost:160,rent:[12,60,180,500,700,900],buildCost:100,deposit:80}),new G({index:15,name:"Метла",disc:"Рента увеличивается от того, сколько транспорта в собственности [25, 50, 100, 200]",catIndex:100,canBuy:!0,cost:200,rent:[25,50,100,200],deposit:100,cardType:j.TRANSPORT}),new G({index:16,category:"Косой переулок",catIndex:4,name:"Лавка Оливандера",canBuy:!0,cost:180,rent:[14,70,200,550,750,950],buildCost:100,deposit:90}),new G({index:17,name:"Заклинания",cardType:j.MAGIC}),new G({index:18,category:"Косой переулок",catIndex:4,name:"Банк Гринготтс",canBuy:!0,cost:180,rent:[14,70,200,550,750,950],buildCost:100,deposit:90}),new G({index:19,category:"Косой переулок",catIndex:4,name:"Дырявый Котел",canBuy:!0,cost:200,rent:[16,80,220,600,800,1e3],buildCost:100,deposit:100}),new G({index:20,name:"Бесплатная стоянка",disc:"Тут можно безопасно остановится и не боятся пожирателей смерти",cardType:j.FREE}),new G({index:21,category:"Министерство магии",catIndex:5,name:"Сектор борьбы с неправомерным использованием заклинаний",canBuy:!0,cost:220,rent:[18,90,250,700,875,1050],buildCost:150,deposit:110}),new G({index:22,name:"Зелья",cardType:j.POTION}),new G({index:23,category:"Министерство магии",catIndex:5,name:"Отдел мракоборцев",canBuy:!0,cost:220,rent:[18,90,250,700,875,1050],buildCost:150,deposit:110}),new G({index:24,category:"Министерство магии",catIndex:5,name:"Отдел по борьбе с незакон. испол. изобрет. маглов",canBuy:!0,cost:240,rent:[20,100,300,750,925,1100],buildCost:150,deposit:110}),new G({index:25,name:"Летучий порох",disc:"Рента увеличивается от того, сколько транспорта в собственности [25, 50, 100, 200]",catIndex:100,canBuy:!0,cost:200,rent:[25,50,100,200],deposit:100,cardType:j.TRANSPORT}),new G({index:26,category:"Министерство магии",catIndex:6,name:"Отдел контроля за магическими существами",canBuy:!0,cost:260,rent:[22,110,330,800,975,1150],buildCost:150,deposit:130}),new G({index:27,category:"Министерство магии",catIndex:6,name:"Отдел магических проишествий и катастроф",canBuy:!0,cost:260,rent:[22,110,330,800,975,1150],buildCost:150,deposit:130}),new G({index:28,catIndex:200,name:"Газета Ежедневный пророк",disc:"Если вам пренадлежит одно печатное издание рента равна сумме 4-х бросков кубика, если два издания, рента равна сумме 10 бросков кубика",canBuy:!0,cost:150,deposit:75,cardType:j.FACTORY}),new G({index:29,category:"Министерство магии",catIndex:6,name:"Отдел тайн",canBuy:!0,cost:280,rent:[24,120,360,850,1025,1200],buildCost:150,deposit:140}),new G({index:30,name:"Диментор Азкабана",disc:"Вы не смогли пременить заклинание патронума, отправляйтесь в Азкабан",cardType:j.TOJAIL}),new G({index:31,category:"Хогвартс",catIndex:7,name:"Хижина Хагрида",canBuy:!0,cost:300,rent:[26,130,390,900,1100,1275],buildCost:200,deposit:150}),new G({index:32,category:"Хогвартс",catIndex:7,name:"Выручай Комната",canBuy:!0,cost:300,rent:[26,130,390,900,1100,1275],buildCost:200,deposit:150}),new G({index:33,name:"Заклинания",cardType:j.MAGIC}),new G({index:34,category:"Хогвартс",catIndex:7,name:"Башня Гриффиндора",canBuy:!0,cost:320,rent:[28,150,450,1e3,1200,1400],buildCost:200,deposit:160}),new G({index:35,name:"Портал",disc:"Рента увеличивается от того, сколько транспорта в собственности [25, 50, 100, 200]",catIndex:100,canBuy:!0,cost:200,rent:[25,50,100,200],deposit:100,cardType:j.TRANSPORT}),new G({index:36,name:"Зелья",cardType:j.POTION}),new G({index:37,category:"Хогвартс",catIndex:8,name:"Поле Квиддича",canBuy:!0,cost:350,rent:[35,175,500,1100,1300,1500],buildCost:200,deposit:160}),new G({index:38,name:"Коммисия банка Гринготтс",canBuy:!1,rent:[75],owner:"game",cardType:j.TAX}),new G({index:39,category:"Хогвартс",catIndex:8,name:"Большой зал",canBuy:!0,cost:400,rent:[50,200,600,1400,1700,2e3],buildCost:300,deposit:200})],Ue=ze.slice(),Ve=[new S("Волшебные часы Уизли","Отправляйтесь на клетку GO и получите 200M",{subType:I.GO}),new S("Вы унследовали домового эльфа","Получите 100М",{subType:I.GIFT,cost:100}),new S("Вы неудачно трансгрессировали и получили ранение","Заплатите 150М за лечение",{subType:I.TAX,cost:150}),new S("Вас ударила гремучая Ива","Заплатите 50М за лекарства",{subType:I.TAX,cost:50}),new S("Банк Гринготтс ошибся в расчетах","Получите 200М",{subType:I.GIFT,cost:200}),new S("Вам необходимо купить книги с заклинаниями","Заплатите 50М школьный сбор",{subType:I.TAX,cost:50}),new S("Побез из Азкабана. Вы получили карту побега","Бесплатный выход из тюрьмы",{subType:I.JAILFREE}),new S("Вы успешно применили заклинание на уроке","Получите 50М",{subType:I.GIFT,cost:50}),new S("Вас поймали за незаконное использование заклинаний","Отправляйтесь в Азкабан",{subType:I.TOJAIL}),new S("В вашем районе видели как вы использовали заклинание","Заплатите налог за кажый дом по 40М и каждый отель по 120М",{subType:I.HOUSETAX,cost:40}),new S("Вы получили второй приз в турнире 3-х волшебников","Получите 10М",{subType:I.GIFT,cost:10}),new S("У вас день рождение","Получите 10М от каждого игрока",{subType:I.PLAYERSGIFT,cost:10}),new S("Все хотят вступить в отряд Дамблдора","Получите 50М от каждого игрока",{subType:I.PLAYERSGIFT,cost:50}),new S("Вы унаследовали мантию невидимку","Получите 100М",{subType:I.GIFT,cost:100}),new S("Получите ганорар за статью о Гарри в Еженедельном Пророке","Получите 20М",{subType:I.GIFT,cost:20}),new S("Вы стали хранителем заклятия","Получите 25М",{subType:I.GIFT,cost:25}),new S('Сириус подарил вам метлу "Молния"',"Получите 100М",{subType:I.GIFT,cost:100})],qe=Ve,Ze=[new B('Поездка на автобусе "Ночной рыцарь"',"Перейдите на клетку Свободная стоянка и получите 200М",{subType:I.GOTO,destanation:20,cost:200,importantPay:!0}),new B("В банке гринготтс дракон повредил вашу яйчейку","Получите компенсацию 50М",{subType:I.GIFT,cost:50}),new B("Ваше оборотное зелье обращает вас в кошку","вернитесь на 3 клетки назад",{subType:I.GOTO,destanation:-3}),new B("Великан Грохх, вырвал все деревья на ваших участках","Заплатите по 25М за каждый дом и по 75М за каждый отель",{subType:I.HOUSETAX,cost:25}),new B("Посетите Уизли в Отделе по борьбе с незакон. испол. изобрет. маглов","Если при перемещение пройдете через GO, получите 200М",{subType:I.GOTO,destanation:24,cost:200}),new B("Внесите налог на бедных","Заплатите 15М",{subType:I.TAX,cost:15}),new B("Декрет об образовании №34: Запрещаются любые игры","Отправляйтесь а Азкабан",{subType:I.TOJAIL}),new B("Настало время для церемонии","Отправляйтесь в Большой Зал",{subType:I.GOTO,destanation:39}),new B("Вас пригласили в магазин Волшебные Вредилки","Если при перемещение пройдете через GO, получите 200М",{subType:I.GOTO,destanation:11,cost:200}),new B("Вас назначили министром магии","Заплатите по 50м каждому игроку",{subType:I.PLAYERSTAX,cost:50}),new B("Побез из Азкабана. Вы получили карту побега","Бесплатный выход из тюрьмы",{subType:I.JAILFREE}),new B("Профессор Гораций Слизнорт дает вам зелье удачи","Получите 100М",{subType:I.GIFT,cost:100}),new B("Вы выиграли кубок по Квиддичу","Получите 150М",{subType:I.GIFT,cost:150})],$e=Ze,et=function e(t,a){Object(k["a"])(this,e),this.id=Math.random(),this.name=t,this.cash=1500,this.position=0,this.index=a,this.jailFreeCards=[],this.gameOver=!1},tt=function(){function e(t,a,n){Object(k["a"])(this,e),this.lot=t,this.players=a,this.bet=t.cost,this.whoBet=null,this.current=a[0],this._cb=n,this.isEnd=!1}return Object(Ke["a"])(e,[{key:"accept",value:function(e){this.current.cash>=e&&this.bet<e&&(this.bet=e,this.whoBet=this.current,this.next())}},{key:"cancel",value:function(){var e=this;this.players=this.players.filter((function(t){return t.id!==e.current.id})),this.next()}},{key:"next",value:function(){var e=this;this.checkWinner();var t=this.players.findIndex((function(t){return t.id===e.current.id}))+1;t>=this.players.length&&(t=0),this.current=this.players[t]}},{key:"checkWinner",value:function(){this.players.length<=1&&this.whoBet?(this.isEnd=!0,this._cb(this.whoBet.index,this.lot.index,this.bet)):0==this.players.length&&(this.isEnd=!0,this._cb(null,null,0))}}]),e}(),at=tt,nt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(k["a"])(this,e),this.maxPlayer=t.maxPlayer||2,this.saleOnGameOver=t.saleOnGameOver||!0,this.players=[],this.board=Ue.slice(),this.whoGo=null,this.finish=!1,this.double=0,this.jail=[],this._endOfTurn=!0,this._magicCards=qe,this._potionCards=$e,this._action=!1,this.log=["Необходимо добавить игроков!"],this.auction=null,this.cubes={},this.currentSpecialCard=null,this.specialAction=!1,this.winner=null,this.attention="",this.auctionIsEnd=!0}return Object(Ke["a"])(e,[{key:"_findPlayer",value:function(e){return this.players.filter((function(t){return t.id===e}))[0]}},{key:"_findPlayerIndex",value:function(e){return this.players.findIndex((function(t){return t.id===e}))}},{key:"_log",value:function(){for(var e=0;e<arguments.length;e++)this.log.push(arguments[e]),console.log(arguments[e])}},{key:"_nextPlayer",value:function(e){var t=this.players.length,a=this._findPlayerIndex(e),n=null;return n=a+1>=t?this.players[0].id:this.players[a+1].id,this._findPlayer(n).gameOver&&(n=this._nextPlayer(n)),n}},{key:"_changePosition",value:function(e,t){var a=this._findPlayerIndex(e),n=this.players[a].position;switch(this.currentSpecialCard=null,this.players[a].position=t,this.board[t].cardType){case j.JAIL:case j.FREE:case j.START:this._action=!1;break;default:this._action=!0;break}this._log("Позиция игрока ".concat(this.players[a].name," сменилась с ").concat(n," на ").concat(t))}},{key:"_move",value:function(e,t){var a=this._findPlayerIndex(e),n=this.board.length,r=this.players[a].position+t;r<n?this._changePosition(e,r):(this._changePosition(e,r-n+0),this.players[a].cash+=200,this._log("Круг пройден. Игрок "+this.players[a].name+" получает 200М"))}},{key:"_moveToJail",value:function(e){var t=this._findPlayer(e);t.jailFreeCards.length>0?(this.players[t.index].jailFreeCards.pop(),this._log("Игрок "+t.name+" тратит карту выхода из тюрьмы!")):(this._changePosition(e,this._getJailPosition()),this.jail.push({id:e,name:t.name,tryes:0}),this._log("Игрок "+t.name+" отправляется в тюрьму!")),this._switchPlayer()}},{key:"_jailBreak",value:function(e){var t=this._findPlayer(e);this.jail=this.jail.filter((function(t){return t.id!==e})),this.double=0,this._log(t.name+" вы выходите из тюрьмы!")}},{key:"_getJailPosition",value:function(){return this.board.filter((function(e){return e.cardType===j.JAIL}))[0].index}},{key:"_jailCheck",value:function(e){var t=this._findPlayer(e),a=this.jail.findIndex((function(t){return t.id===e})),n=-1!=a;return n&&(this.jail[a].tryes<3?this._log(t.name+" вы походили всего "+this.jail[a].tryes+" из 3-х вы остаетесь в тюрьме!"):(this.jail=this.jail.filter((function(t){return t.id!==e})),n=!1,this._log(t.name+" вы выходите из тюрьмы!"))),{jailStatus:n,jailNumber:a}}},{key:"_getCurentCard",value:function(e){var t=this._findPlayerIndex(e),a=this.players[t].position;return this.board[a]}},{key:"_solvency",value:function(e,t){var a=this._findPlayer(e);return a.cash>=t}},{key:"_payRent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this._findPlayerIndex(e);if(!this._solvency(e,a))return this._log("".concat(this.players[n].name," Вы не можете заплатить ренту")),!1;if(t){var r=this._findPlayerIndex(t);this.players[r].cash+=a,this.players[n].cash-=a,this._log("Заплачена рента ".concat(a," игроку ").concat(this.players[r].name," от игрока ").concat(this.players[n].name))}else this.players[n].cash-=a,this._log("Заплачена рента ".concat(a," игроком ").concat(this.players[n].name));return!0}},{key:"payFine",value:function(){var e=this._findPlayer(this.whoGo),t=this.jail.findIndex((function(t){return t.id===e.id}));if(!this._solvency(e.id,50))return this._log("".concat(e.name," у вас нехватает денег для выкупа!")),!1;-1!=t?(this.players[e.index].cash-=50,this._jailBreak(e.id)):this._log("".concat(e.name," вы не в тюрьме!"))}},{key:"buyProperty",value:function(){var e=this._findPlayer(this.whoGo),t=this.board[e.position];t.canBuy&&!t.owner&&(this._action=!this._buyCard(e.id,t.index))}},{key:"cancelBuy",value:function(){var e=this,t=this._findPlayer(this.whoGo),a=this.board[t.position];a.canBuy&&!a.owner&&this._action&&(this.auction=new at(a,this.players.filter((function(e){return e.id!==t.id})),(function(t,a,n){null!=t&&a&&(e.players[t].cash-=n,e.board[a].owner=e.players[t].id,e.board[a].color="player"+t,e._checkPurchasedAllCategory(e.board[a].catIndex,e.players[t].id)),e._action=!1})))}},{key:"_buyCard",value:function(e,t){var a=this._findPlayerIndex(e);return this._solvency(e,this.board[t].cost)?(this.players[a].cash-=this.board[t].cost,this.board[t].owner=this.players[a].id,this.board[t].color="player"+a,this._checkPurchasedAllCategory(this.board[t].catIndex,e),this._log("Куплена собственность ".concat(this.board[t].name," игроком ").concat(this.players[a].name)),!0):(this._log("".concat(this.players[a].name," Нехватает денег на покупку!")),!1)}},{key:"byeHouse",value:function(e){var t=this._findPlayer(this.whoGo);this._solvency(t.id,e.buildCost)?e.fullRent?(this.board[e.index].houses+=1,this.players[t.index].cash-=e.buildCost):this._log("".concat(t.name," необходимо купить всю собственность в регионе ").concat(e.category,"!")):this._log("".concat(t.name," Нехватает денег на постройку!"))}},{key:"saleHouse",value:function(e){var t=this._findPlayer(this.whoGo);this.board[e.index].houses-=1,this.players[t.index].cash+=e.buildCost/2}},{key:"_checkPurchasedAllCategory",value:function(e,t){var a=this.board.filter((function(t){return t.catIndex===e})),n=!a.some((function(e){return e.owner!==t}));if(n)for(var r=0;r<a.length;r++)this.board[a[r].index].fullRent=!0;else for(var s=0;s<a.length;s++)this.board[a[s].index].fullRent=!1}},{key:"_switchPlayer",value:function(){this.double=0,this._endOfTurn=!0,this._action=!1,this.currentSpecialCard=null,this.specialAction=!1,this.whoGo=this._nextPlayer(this.whoGo)}},{key:"createPlayer",value:function(e){if(!(this.players.length>=this.maxPlayer)){var t=new et(e);this.players.push(t);var a=this._findPlayerIndex(t.id);this.players[a].index=a,this.whoGo||(this.whoGo=t.id),this._log("В игру добавлен игрок ".concat(t.name),"Можно ходить!")}}},{key:"go",value:function(){if(this.whoGo)if(this._action)this._log("Сначало выполните действие!");else if(this._endOfTurn){this._endOfTurn=!1;var e=this._findPlayer(this.whoGo),t=this._jailCheck(e.id),a=t.jailStatus,n=t.jailNumber,r=Math.floor(6*Math.random()+1),s=Math.floor(6*Math.random()+1);r!==s?(this.double=0,a?(this.jail[n].tryes+=1,this._switchPlayer()):this._move(e.id,r+s)):r===s&&this.double<2?(this.double+=1,a&&this._jailBreak(e.id),this._move(e.id,r+s)):this._moveToJail(e.id),this.cubes={player:e,cube1:r,cube2:s},this._log("У игрока "+e.name+" выпало "+r+" и "+s+" Позиция:"+e.position+" Деньги:"+e.cash)}else this._log("Вы не можете сейчас походить!");else this._log("Добавте игроков!")}},{key:"doNext",value:function(){if(this._action){var e=this._findPlayer(this.whoGo),t=this._getCurentCard(e.id);this._action=!this._doAction(e,t,!0)}else this._log("Вам пока нечего делать, завершите ход!")}},{key:"swapCard",value:function(e,t){e.cash>0&&this._changeCashFromPlayers(e.cash,e.player,t.player),t.cash>0&&this._changeCashFromPlayers(t.cash,t.player,e.player),e.cards&&this._changeCardsOwner(e.cards,e.player,t.player),t.cards&&this._changeCardsOwner(t.cards,t.player,e.player)}},{key:"_changeCashFromPlayers",value:function(e,t,a){this._solvency(t.id,e)?(this.players[t.index].cash-=+e,this.players[a.index].cash+=+e):this._log("Нехватает денег у "+t.name+" для обмена")}},{key:"_changeCardsOwner",value:function(e,t,a){var n=this;e.forEach((function(e){e.owner===t.id&&(n.board[e.index].owner=a.id,n._checkPurchasedAllCategory(e.catIndex,a.id))}))}},{key:"toLay",value:function(e){var t=this._findPlayer(this.whoGo),a=this.board[e];a.owner===t.id?a.disabled?this._log("Вы уже заложили эту собственность!"):a.houses>0?(this.board[a.index].houses-=1,this.players[t.index].cash+=a.buildCost/2):(this.board[a.index].disabled=!0,this.players[t.index].cash+=a.deposit):this._log("Это не ваша карта!")}},{key:"redeem",value:function(e){var t=this._findPlayer(this.whoGo),a=this.board[e];a.owner===t.id?a.disabled?(this.board[a.index].disabled=!1,this.players[t.index].cash-=a.buyout):this._log("Эту карту выкупать не надо!"):this._log("Это не ваша карта!")}},{key:"_doAction",value:function(e,t,a){var n=!0;if(this.specialAction){var r=this._doSpecialAction(e,this.currentSpecialCard),s=Object(Ye["a"])(r,2),i=s[0],c=s[1];return!i&&c}switch(t.cardType){case j.NORMAL:if(t.owner){if(t.owner!==e.id&&!t.disabled){var o=t.rent[t.houses];t.fullRent&&0===t.houses&&(o*=2),n=this._payRent(e.id,t.owner,o)}}else a&&(n=this._buyCard(e.id,t.index));break;case j.TOJAIL:this._moveToJail(e.id),this._log("".concat(e.name," отправляется в тюрьму"));break;case j.TAX:n=this._payRent(e.id,null,t.rent[0]);break;case j.TRANSPORT:if(t.owner){if(t.owner!==e.id&&!t.disabled){var l=this.board.filter((function(e){return e.cardType===j.TRANSPORT&&e.owner===t.owner})).length,d=t.rent[l-1];n=this._payRent(e.id,t.owner,d)}}else a&&(n=this._buyCard(e.id,t.index));break;case j.FACTORY:if(t.owner){if(t.owner!==e.id&&!t.disabled){var u=this.board.filter((function(e){return e.cardType===j.FACTORY&&e.owner===t.owner})).length,h=u>1?10:4,p=0;this._log("Считаем ренту");for(var f=0;f<h;f++){var y=Math.floor(6*Math.random()+1);p+=y,this._log("Выпало ".concat(y," сумма ").concat(p))}n=this._payRent(e.id,t.owner,p)}}else a&&(n=this._buyCard(e.id,t.index));break;case j.MAGIC:var m=Math.floor(Math.random()*this._magicCards.length);this.currentSpecialCard=this._magicCards[m],this.specialAction=!0,n=!1;break;case j.POTION:var b=Math.floor(Math.random()*this._potionCards.length);this.currentSpecialCard=this._potionCards[b],this.specialAction=!0,n=!1;break;default:break}return n}},{key:"_doSpecialAction",value:function(e,t){var a=this;this.specialAction=!1;var n=!0,r=!1;switch(t.subType){case I.GIFT:this.players[e.index].cash+=t.cost;break;case I.GO:this.players[e.index].position=0,this.players[e.index].cash+=200;break;case I.GOTO:t.destanation>0?((t.destanation<e.position||t.importantPay)&&(this.players[e.index].cash+=t.cost),this._changePosition(e.id,t.destanation)):this._changePosition(e.id,e.position+t.destanation),n=!1,r=!0;break;case I.HOUSETAX:var s=this.board.filter((function(t){return t.owner===e.id&&t.cardType===j.NORMAL})),i=s.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,n=a.houses<5?a.houses*t.cost:3*t.cost;return e+n}),0);this._solvency(e.id,i)?this.players[e.index].cash-=i:(this._log("Нехватает денег на оплату!"),this.specialAction=!0,n=!1);break;case I.JAILFREE:this.players[e.index].jailFreeCards.push(t);break;case I.PLAYERSGIFT:var c=this.players.filter((function(t){return t.id!==e.id})),o=c.reduce((function(e,n){return a.players[n.index].cash-=t.cost,e+t.cost}),0);this.players[e.index].cash+=o;break;case I.PLAYERSTAX:var l=this.players.filter((function(t){return t.id!==e.id})),d=l.length*t.cost;this._solvency(e.id,d)?l.forEach((function(n){a.players[n.index].cash+=t.cost,a.players[e.index].cash-=t.cost})):(this._log("Нехватает денег на оплату!"),this.attention="".concat(e.name," нехватает ").concat(d-e.cash,"М!"),this.specialAction=!0,n=!1);break;case I.TAX:this._solvency(e.id,t.cost)?this.players[e.index].cash-=t.cost:(this._log("Нехватает денег на оплату!"),this.attention="".concat(e.name," нехватает ").concat(t.cost-e.cash,"М!"),this.specialAction=!0,n=!1);break;case I.TOJAIL:this._moveToJail(e.id);break;default:break}return this._log(t.name+" "+t.disc),[r,n]}},{key:"gameOver",value:function(e){var t=this,a=this._findPlayer(e);this.players[a.index].gameOver=!0,this.board.forEach((function(e){e.owner===a.id&&(e.disabled=!0,e.houses=0,e.fullRent=!1,t.saleOnGameOver&&(e.owner=null))})),this._checkWinner(),this._switchPlayer()}},{key:"_checkWinner",value:function(){var e=this.players.filter((function(e){return!e.gameOver}));console.log(1===e.length),1===e.length&&(this.winner=e[0],this.finish=!0)}},{key:"clearGameData",value:function(){var e=this;this.board.forEach((function(t){t.houses&&(t.houses=0),e.fullRent=!1,t.owner&&"game"!==t.owner&&(t.owner=null),t.disabled=!1})),this.jail=[],this.players=[],this.log=["Необходимо добавить игроков!"]}},{key:"endTurn",value:function(){return this._endOfTurn?(this._log("Вам нужно походить, или ваш ход уже закончен!"),void(this.attention="Ход уже закончен")):this._action?(this._log("Выполните все действия!"),void(this.attention="Выполните действия")):(0===this.double&&(this.whoGo=this._nextPlayer(this.whoGo)),this.currentSpecialCard=null,void(this._endOfTurn=!0))}}]),e}(),rt=nt;n["a"].use(c["a"]);var st=new c["a"].Store({state:{currentComponent:"start-screen",isStarted:!1,winner:null,game:null,selectedCard:null},mutations:{cancelBuyCard:function(e){e.currentComponent="auction-board"},returnFromAuction:function(e){e.currentComponent="game-board"},startGame:function(e,t){e.isStarted=!0,e.winner=null,e.game=null,e.game=new rt({maxPlayer:t});var a=Qe(t);console.log(a);for(var n=0;n<t;n++)e.game.createPlayer(a[n]);e.currentComponent="game-board"},selectCard:function(e,t){e.currentComponent="card-options-board",e.selectedCard=t},clearSelectedCard:function(e){e.currentComponent="game-board",e.selectedCard=null},openSwap:function(e){e.currentComponent="swap-board"},closeSwap:function(e){e.currentComponent="game-board"},win:function(e,t){e.selectedCard=null,e.winner=t,e.currentComponent="start-screen",e.isStarted=!1,e.game.clearGameData()}},actions:{startTurn:function(e){return e.state.game.go()},doAction:function(e){return e.state.game.doNext()},endTurn:function(e){return e.state.game.endTurn()},dontBuy:function(e){e.commit("cancelBuyCard"),e.state.game.cancelBuy()},acceptAuc:function(e,t){e.state.game.auction.accept(t),e.state.game.auction.isEnd&&e.commit("returnFromAuction")},cancelAuc:function(e){e.state.game.auction.cancel(),e.state.game.auction.isEnd&&e.commit("returnFromAuction")},payFine:function(e){return e.state.game.payFine()},toLay:function(e,t){return e.state.game.toLay(t)},redeem:function(e,t){return e.state.game.redeem(t)},byeHouse:function(e,t){return e.state.game.byeHouse(t)},saleHouse:function(e,t){return e.state.game.saleHouse(t)},swapCard:function(e,t){var a=t.saler,n=t.customer;return e.state.game.swapCard(a,n)},gameOver:function(e,t){return e.state.game.gameOver(t)}},modules:{},getters:{checkJail:function(e,t){var a=e.game;return-1!==a.jail.findIndex((function(e){return e.id===t.currentPlayer.id}))},currentPlayer:function(e){var t=e.game;return t.players.filter((function(e){return e.id===t.whoGo}))[0]},getOwner:function(e,t){var a=e.game;return a._findPlayer(t.currentCard.owner)||null},currentCard:function(e,t){var a=e.game;return a.currentSpecialCard?a.currentSpecialCard:a.board[t.currentPlayer.position]},playersCards:function(e,t){var a=e.game,n=[];return a.players.forEach((function(e){var t=a.board.filter((function(t){return t.owner===e.id}));n.push({id:e.id,cards:t})})),n},playerCards:function(e,t){var a=e.game,n=t.currentPlayer,r=a.board.filter((function(e){return e.owner===n.id})),s=n.jailFreeCards.map((function(e){return Object.assign({},e,{catIndex:1e3})})),i=r.concat(s);return i.sort((function(e,t){return e.catIndex<t.catIndex?-1:e.catIndex>t.catIndex?1:e.index<t.index?-1:1})),i}}}),it=a("0086"),ct=a.n(it),ot=a("9483");Object(ot["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,n["a"].use(ct.a,{disableClick:!1,touchClass:"",tapTolerance:10,touchHoldTolerance:400,swipeTolerance:10,longTapTimeInterval:400}),n["a"].directive("click-outside",{bind:function(e,t,a){if("function"!==typeof t.value){var n=a.context.name,r="[Vue-click-outside:] provided expression '".concat(t.expression,"' is not a function, but has to be");n&&(r+="Found in component '".concat(n,"'")),console.warn(r)}var s=t.modifiers.bubble,i=function(a){(s||!e.contains(a.target)&&e!==a.target)&&t.value(a)};e.__vueClickOutside__=i,document.addEventListener("click",i)},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}),new n["a"]({store:st,render:function(e){return e(De)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"6bf3":function(e,t,a){},"73f4":function(e,t,a){},"75f4":function(e,t,a){},"7a43":function(e,t,a){},"7c48":function(e,t,a){},"8c09":function(e,t,a){},"8ed3":function(e,t,a){"use strict";var n=a("1c97"),r=a.n(n);r.a},"93a0":function(e,t,a){},"961a":function(e,t,a){"use strict";var n=a("93a0"),r=a.n(n);r.a},"9c0c":function(e,t,a){},"9dd3":function(e,t,a){"use strict";var n=a("b22d"),r=a.n(n);r.a},"9df2":function(e,t,a){},aca6:function(e,t,a){"use strict";var n=a("8c09"),r=a.n(n);r.a},b22d:function(e,t,a){},bacc:function(e,t){e.exports="data:image/png;base64,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"},cab8:function(e,t,a){"use strict";var n=a("75f4"),r=a.n(n);r.a},e4ea:function(e,t,a){},ef12:function(e,t,a){"use strict";var n=a("9df2"),r=a.n(n);r.a},fce2:function(e,t,a){"use strict";var n=a("e4ea"),r=a.n(n);r.a}});
//# sourceMappingURL=app.5a58dd6e.js.map